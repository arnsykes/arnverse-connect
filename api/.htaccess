# ARNVERSE API .htaccess
# Konfigurasi untuk folder /api

Options -Indexes
Options +FollowSymLinks

# Aktifkan rewrite engine
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /api/
    
    # Security: Block access to sensitive files
    RewriteRule ^(_.*\.php)$ - [F,L]
    RewriteRule ^(\.env.*|.*\.log|.*\.sql)$ - [F,L]
</IfModule>

# Hanya izinkan akses ke file PHP dan asset
<FilesMatch "\.(php|jpg|jpeg|png|gif|svg|ico|js|css|woff|woff2|ttf|eot)$">
    Require all granted
</FilesMatch>

# Block semua file lainnya
<FilesMatch "^(?!.*\.(php|jpg|jpeg|png|gif|svg|ico|js|css|woff|woff2|ttf|eot)$).*$">
    Require all denied
</FilesMatch>

# Security headers
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# PHP Configuration
<IfModule mod_php.c>
    php_value upload_max_filesize 10M
    php_value post_max_size 10M
    php_value max_execution_time 30
    php_value memory_limit 128M
</IfModule>